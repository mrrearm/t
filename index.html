<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Esperienza Terzo Tipo</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root { --void: #030510; --glow3: #00e5ff; --white: #f0f6ff; --muted: #6a9ab8; }
body { background: var(--void); color: var(--white); font-family: 'Crimson Pro', serif; }
.step-card { display: none; padding: 50px; text-align: center; }
.step-card.active { display: block; }
.cosmic-textarea { width: 100%; height: 150px; background: rgba(13,30,69,.4); color: white; padding: 15px; border: 1px solid var(--glow3); margin-top: 20px; }
.btn-nav { cursor: pointer; padding: 15px 30px; margin: 10px; border-radius: 20px; border: none; background: var(--glow3); }
#thanks { display: none; text-align: center; padding: 50px; }
#thanks.active { display: block; }
</style>
</head>
<body>

<section id="form-section">
  <div class="step-card active" id="step-1"><h2>1/11 Cosa hai avvertito?</h2><textarea id="a1" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(2)">Avanti</button></div>
  <div class="step-card" id="step-2"><h2>2/11 Segni fisici?</h2><textarea id="a2" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(1)">Indietro</button><button class="btn-nav" onclick="goTo(3)">Avanti</button></div>
  <div class="step-card" id="step-3"><h2>3/11 Come ti senti fisicamente?</h2><textarea id="a3" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(2)">Indietro</button><button class="btn-nav" onclick="goTo(4)">Avanti</button></div>
  <div class="step-card" id="step-4"><h2>4/11 Ti senti diversa?</h2><textarea id="a4" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(3)">Indietro</button><button class="btn-nav" onclick="goTo(5)">Avanti</button></div>
  <div class="step-card" id="step-5"><h2>5/11 Periodo del contatto?</h2><textarea id="a5" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(4)">Indietro</button><button class="btn-nav" onclick="goTo(6)">Avanti</button></div>
  <div class="step-card" id="step-6"><h2>6/11 Messaggio ricevuto?</h2><textarea id="a6" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(5)">Indietro</button><button class="btn-nav" onclick="goTo(7)">Avanti</button></div>
  <div class="step-card" id="step-7"><h2>7/11 Cosa avresti voluto fare?</h2><textarea id="a7" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(6)">Indietro</button><button class="btn-nav" onclick="goTo(8)">Avanti</button></div>
  <div class="step-card" id="step-8"><h2>8/11 Vicinanza a Dio (1-10)?</h2><input type="number" id="a8" min="1" max="10" value="5"><br><button class="btn-nav" onclick="goTo(7)">Indietro</button><button class="btn-nav" onclick="goTo(9)">Avanti</button></div>
  <div class="step-card" id="step-9"><h2>9/11 Desideri per l'esistenza?</h2><textarea id="a9" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(8)">Indietro</button><button class="btn-nav" onclick="goTo(10)">Avanti</button></div>
  <div class="step-card" id="step-10"><h2>10/11 Progetti di vita?</h2><textarea id="a10" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(9)">Indietro</button><button class="btn-nav" onclick="goTo(11)">Avanti</button></div>
  <div class="step-card" id="step-11"><h2>11/11 Cos'Ã¨ l'anima?</h2><textarea id="a11" class="cosmic-textarea"></textarea><br><button class="btn-nav" onclick="goTo(10)">Indietro</button><button class="btn-nav" onclick="submitForm()">Invia al Database</button></div>

  <div id="thanks"><h2>Trasmissione ricevuta correttamente.</h2></div>
</section>

<script>
const TOTAL = 11;
const URL_GAS = "https://script.google.com/macros/s/AKfycbx-_-zQAQFWaWmU_Qka79dw0z2JBONad-KaZp10CUK-RUn9Qj9726eEzDKXjhAeakSf/exec";

function goTo(n) {
  document.querySelectorAll('.step-card').forEach(c => c.classList.remove('active'));
  document.getElementById('step-' + n).classList.add('active');
}

function submitForm() {
  let data = {};
  for(let i = 1; i <= TOTAL; i++) {
    data['Domanda_' + i] = document.getElementById('a' + i).value;
  }
  
  fetch(URL_GAS, {
    method: 'POST',
    mode: 'no-cors',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify(data)
  }).then(() => {
    document.querySelectorAll('.step-card').forEach(c => c.classList.remove('active'));
    document.getElementById('thanks').classList.add('active');
  }).catch(() => alert("Errore di invio."));
}
</script>

</body>
</html>